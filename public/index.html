<html>
	<head><title>Facebook Profiles</title></head>
	<body>
		<div id="fb-root"></div>
    	<script>
			window.fbAsyncInit = function() {
				FB.init({
					appId      : '1467072543528237',
					status     : true,
					xfbml      : true
				});
				FB.Event.subscribe('auth.authResponseChange', function(response) {
					if (response.status === 'connected') {
						testAPI();
					}else if(response.status === 'not_authorized'){
						FB.login();
					} else {
						FB.login();
					}
				});
			};
			(function(d, s, id){
				var js, fjs = d.getElementsByTagName(s)[0];
				if (d.getElementById(id)) {return;}
				js = d.createElement(s); js.id = id;
				js.src = "//connect.facebook.net/en_US/all.js";
				fjs.parentNode.insertBefore(js, fjs);
			}(document, 'script', 'facebook-jssdk'));

			function testAPI() {
				console.log('Welcome!  Fetching your information.... ' + FB.getAuthResponse().accessToken);
				FB.api('/me/posts', function(response) {
					//console.log('Good to see you, ' + response.name + '.');
					console.log("posts");
					console.log(response);
				});
				FB.api('/me/groups', function(response) {
					//console.log('Good to see you, ' + response.name + '.');
					console.log("posts");
					console.log(response);
				});
				
				/*
				FB.api('/me/friendlist', function(response) {
					//?fields=posts
					//console.log('Good to see you, ' + response.name + '.');
					console.log("friend list");
					console.log(response);
				});
				FB.api('/me/post', function(response) {
					//?fields=posts
					//console.log('Good to see you, ' + response.name + '.');
					console.log("post");
					console.log(response);
				});
				var userToken = FB.getAuthResponse().accessToken;
				//console.log("user Token : " + userToken);
				*/
			}
			function fbLogout(){
				FB.logout(function (response) {
            		//Do what ever you want here when logged out like reloading the page
            		window.location.reload();
        		});
			}
    	</script>
		<h2>Place login with Facebook Button</h2>
		<fb:login-button size="large" show-faces="true" width="200" max-rows="1"></fb:login-button>
		<hr>
		<span id="fbLogout" onclick="fbLogout()">
			<a class="fb_button fb_button_medium">
				<span class="fb_button_text">Logout</span>
			</a>
		<span>
	</body>
</html>
